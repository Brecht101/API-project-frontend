<html>
<head>
    <script defer src="https://unpkg.com/alpinejs@3.5.0/dist/cdn.min.js"></script>
</head>
<body>
    <div x-data="{
        responsedata: null,
        async getData() {
            this.responsedata = await (await fetch('https://api-brecht101.cloud.okteto.net/users')).json();
        }
    }">
        <button x-on:click="getData">Request all users</button>
        <template x-for="user in responsedata">
            <template x-for="item in user">
                <p x-text="item">e</p>
            </template>
        </template>
    </div>
    <hr>
    <div x-data="{
        userdata: null,
        id: null,
        async getUser(id) {
            this.userdata = await (await fetch('https://api-brecht101.cloud.okteto.net/user?id=' + parseInt(id))).json();
        }
    }">
        <label for="id">Please enter the user ID</label>
        <input type="text" x-model="id" id="id">
        <button x-on:click="getUser(id)">Get user</button>
            <template x-for="item in userdata">
                <p x-text="item">e</p>
                console.log(item)
            </template>
    </div>
    <hr>
<div x-data="{
        postdata: null,
        firstname: null,
        lastname: null,
        password: null,
        async callmethod1() {
            this.postdata = await (await fetch('https://api-brecht101.cloud.okteto.net/users/create',
            {
                method: 'POST',
                body: JSON.stringify({
                    first_name: this.firstname,
                    last_name: this.lastname,
                    password: this.password,
                }),
                headers: {
                    'Content-type': 'application/json; charset=UTF-8',
                },
            })).json();

            console.log(this.postdata);
        },
    }">
    <label for="firstname">Please enter your first name</label>
        <input type="text" x-model="firstname" id="firstname">
    <label for="lastname">Please enter your last name</label>
        <input type="text" x-model="lastname" id="lastname">
    <label for="password">Please enter your password</label>
        <input type="text" x-model="password" id="password">
        <button x-on:click="callmethod1">Call method</button>

        <p>Firstname: <strong x-text="postdata.first_name"></strong></p>
        <p>Lastname: <strong x-text="postdata.last_name"></strong></p>
        <p>Password: <strong x-text="postdata.password"></strong></p>
        <p>ID: <strong x-text="postdata.id"></strong></p>
        <p>Registration date: <strong x-text="postdata.registration_date"></strong></p>

    </div>
</body>
</html>